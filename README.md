# Bookkeeping-in-Obsidian
> 一个基于 Obsidian+Templater+Dataview 的轻量级记账解决方案。

## 项目简介
**Bookkeeping-in-Obsidian** 是一套为 Obsidian 用户打造的记账模板集，利用 Templater 插件和 Dataview 插件，轻松实现：
- 极简记账：分类清晰明了，可在一次会话中连续录入多条不同日期的账目；
- 月度汇总：自动遍历当月所有账目，按「必需/非必需」「支出/收入」分类并生成表格、统计收支。

它不依赖第三方服务，所有数据以 Markdown 文件形式保存在本地，完全开源、可自定义。

作者B站主页：[北漠海](https://space.bilibili.com/1065768987) 

本项目已经过作者使用9个月，各个流程已经简化到极致，目前用下来没有什么bug，如有欢迎B站私信作者或加QQ群588526922反馈。
## 功能概览
1. **交互式录入**
   - 支持输入运算表达式（如 `11.4+5.1-4`）
   - 自动校验日期和金额合法性
   - 备注中智能保留“算式”信息
   - 支持模糊输入自动替换：「，」「。」「,」「、」自动替换为小数点，防止误输入

2. **多日记账模式**
   - 每条记账结束后自动回到「输入日期」，方便跨日多条目连续录入
   - “back”命令可随时返回日期输入界面
   - 重复条目检测：可选择「替换」「删除」「不替换」

3. **月度汇总**  
   - 自动扫描当月下的所有记账文件汇总
   - 按“必需/非必需” & “支出/收入” 分类展示统计
   - 按日期 & 条目名称拼音排序
## 文件结构
```text
Obsidian/
  ├─ Templates/
  │	├─ 单日记账模板.md
  │	├─ 多日记账模板.md
  │	└─ 月汇总模板.md
  └─ 你的存放目录/
  	├─ YYYY/
  	│	└─ MM/
  	│    	└─ DD/
  	│    		└─ 账目文件.md      # 一条账目一个文件
  	└─ 汇总/
  		└─ MM月汇总.md
```
## 使用方法
1. 在 Obsidian 中安装并启用 Templater 与 Dataview 插件，其中 Dataview 需要启用 Dataview JS；
2. 将记账模板放置在 Templater 的模板文件夹下，并修改记账模板内的“你的存放目录”为实际存放目录；
3. 执行记账模板。
![[记账示例.png]]
![[月汇总示例.png]]
## To-do：
1. 新增Tag汇总模板，可以在备注设置tag，仅汇总包含该tag的账目（目前我用不到，如果需要的人多的话会尽快更新）；
2. 增加月汇总文件的可视化图表和汇总数据类型；
3. 增加总存款动态跟踪；
4. 优化记账流程（目前我个人够用，如有其他需求欢迎提出）；
5. **终极目标**：将该项目写成 Obsidian 插件发布。
## 开源协议
本项目基于 [MIT License](https://github.com/beimohai/Bookkeeping-in-Obsidian/blob/main/LICENSE) 开源

_世界因开源更精彩_